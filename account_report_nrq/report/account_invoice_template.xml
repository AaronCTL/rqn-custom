<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data>
        
<template id="report_invoice_document">
    <t t-set="doc" t-value="doc.with_context({'lang':doc.partner_id.lang})" />
    <t t-call="report.internal_layout">
        <div class="page">
            <table class="table">
                <tr style="border-top:hidden;">
                    <td width="60%">
                        <table class="table">
                            <td style="background-color:black;" height="30px"></td>
                        </table>
                    </td>
                    <td width="5%" ></td>
                    <td width="35%">
                        <div>
                            <strong>Invoice Date: </strong>
                            <t t-if="doc.partner_id.lang == 'ja_JP'">
                                <span t-field="doc.date_invoice" t-field-options="{'format':'YYYY/MM/dd'}"/><br/>
                            </t>
                            <t t-if="doc.partner_id.lang != 'ja_JP'">
                                <span t-field="doc.date_invoice" t-field-options="{'format':'MMM dd, YYYY'}"/><br/>
                            </t>
                        </div>
                        <div>
                            <strong>Number: </strong><span t-field="doc.number"/>
                        </div>
                    </td>
                </tr>
                <tr style="border-top:hidden;">
                    <td width="60%">
                        <div style="font-size:35px">
                            <span t-if="doc.type == 'out_invoice' and (doc.state == 'open' or doc.state == 'paid')">Invoice</span>
                            <span t-if="doc.type == 'out_invoice' and doc.state == 'proforma2'">PRO-FORMA</span>
                            <span t-if="doc.type == 'out_invoice' and doc.state == 'draft'">Draft Invoice</span>
                            <span t-if="doc.type == 'out_invoice' and doc.state == 'cancel'">Cancelled Invoice</span>
                            <span t-if="doc.type == 'out_refund'">Refund</span>
                            <span t-if="doc.type == 'in_refund'">Vendor Refund</span>
                            <span t-if="doc.type == 'in_invoice'">Vendor Bill</span>
                        </div>
                    </td>
                    <td width="5%" ></td>
                    <td width="35%">
                        <div class="background-image" style="position:absolute; opacity:0.6; right:0; padding:50px; background-repeat:no-repeat;">
                            <img t-if="doc.company_id.chop" t-att-src="'data:image/png;base64,%s' % doc.company_id.chop" style="max-height: 120px;"/>
                        </div>
                    </td>
                </tr>
            </table>
            <t t-call="account_report_nrq.invoice_header_layout"/>
            <t t-call="account_report_nrq.invoice_table_layout"/>
            <t t-call="account_report_nrq.invoice_footer_layout"/>
        </div>
    </t>
</template>

<template id="report_invoice">
    <t t-call="report.html_container">
        <t t-foreach="docs" t-as="doc">
            <t t-call="account_report_nrq.report_invoice_document" t-lang="doc.partner_id.lang"/>
        </t>
    </t>
</template>

<report
    id="report_account_invoice"
    model="account.invoice"
    string="Invoice (NRQ)"
    report_type="qweb-pdf"
    name="account_report_nrq.report_invoice"
    file="account_report_nrq.report_invoice"
    attachment="(object.state in ('open','paid')) and ('INV'+(object.number or '').replace('/','')+'.pdf')"/>

</data>
</odoo>
